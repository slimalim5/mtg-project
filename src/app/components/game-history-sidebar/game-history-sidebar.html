<div class="sidebar-container">
  <div class="sidebar-header">
    <mat-icon>history</mat-icon>
    <span>Game History</span>
  </div>

  <div class="games-list">
    @if (games().length > 0) {
      @for (game of games(); track game.id) {
        <div
          class="game-item"
          [class.won]="game.status === 'won'"
          [class.lost]="game.status === 'lost'"
          [class.selected]="selectedGameId() === game.id"
          (click)="onGameClick(game)"
        >
          <div class="game-status">
            @if (game.status === 'won') {
              <mat-icon class="status-icon won">emoji_events</mat-icon>
            } @else {
              <mat-icon class="status-icon lost">close</mat-icon>
            }
          </div>
          <div class="game-info">
            <span class="card-name">{{ game.secretCardData?.name || 'Unknown Card' }}</span>
            <span class="game-date">{{ game.startedAt.toDate() | date: 'shortDate' }}</span>
          </div>
        </div>
      }
    } @else {
      <div class="empty-state">
        <mat-icon>sports_esports</mat-icon>
        <p>No games yet</p>
      </div>
    }
  </div>
</div>
